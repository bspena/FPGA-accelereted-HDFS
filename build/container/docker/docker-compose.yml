services:
  master: 
    hostname: master
    image: hadoop-build
    ports:
      - 9870:9870       # namenode port
      - 8088:8088       # resourcemanager port
      - 19888:19888     # mapreduce jobHistory server
    #   - 9090:9090       # webappproxy server
    volumes:
      - /home/spena/hadoop:/home/spena/hadoop
      - /home/spena/.m2:/home/spena/.m2
      - /home/spena/.gnupg:/home/spena/.gnupg
      - /home/spena/thesis/build/container/script/hadoop_daemons.sh:/home/spena/hadoop_daemons.sh
      - /home/spena/thesis/build/container/script/job_mapred.sh:/home/spena/job_mapred.sh
    user: "1000:1000"
    command: /bin/bash -c "./hadoop_daemons.sh"
    #devices:
    #  - /dev/
  slave_0: 
    hostname: slave
    image: hadoop-build
    volumes:
      - /home/spena/hadoop:/home/spena/hadoop
      - /home/spena/.m2:/home/spena/.m2
      - /home/spena/.gnupg:/home/spena/.gnupg
      - /home/spena/thesis/build/container/script/hadoop_daemons.sh:/home/spena/hadoop_daemons.sh
    user: "1000:1000"
    command: /bin/bash -c "./hadoop_daemons.sh"
    #devices:
    #  - /dev/
  slave_1: 
    hostname: slave
    image: hadoop-build
    volumes:
      - /home/spena/hadoop:/home/spena/hadoop
      - /home/spena/.m2:/home/spena/.m2
      - /home/spena/.gnupg:/home/spena/.gnupg
      - /home/spena/thesis/build/container/script/hadoop_daemons.sh:/home/spena/hadoop_daemons.sh
    user: "1000:1000"
    command: /bin/bash -c "./hadoop_daemons.sh"
    #devices:
    #  - /dev/
    